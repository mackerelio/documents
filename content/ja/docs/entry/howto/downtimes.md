---
Title: ダウンタイム
Date: 2019-07-16T13:00:00+09:00
URL: https://mackerel.io/ja/docs/entry/howto/downtimes
EditURL: https://blog.hatena.ne.jp/mackerelio/mackerelio-docs-ja.hatenablog.mackerel.io/atom/entry/26006613422755482
---

指定した時間帯や期間に監視を一時停止し、予定されたバッチ処理やメンテナンス期間中に想定されるアラートの発報を事前に防ぐことができます。

[:contents]

## 仕様

- ダウンタイム期間中、指定された条件に一致する監視ルールによるアラートの起票および通知は行われません。
  - この機能はメトリック投稿やチェック監視の実行といったエージェントの動作を抑止するものではなく、ダウンタイム期間中も継続されます。
- ダウンタイム設定の数に上限はありません。

## ダウンタイムを設定する

[ダウンタイム設定画面](https://mackerel.io/my/downtimes)から設定できます。

[f:id:mackerelio:20240216091314p:plain]

### 基本設定

| 設定項目 | 説明 |
| --- | --- |
| ダウンタイム名 | ダウンタイムの識別名を指定します。 |
| ダウンタイムのメモ | ダウンタイム設定に関する詳細や目的をメモとして残します。 |

### ダウンタイム期間

| 設定項目 | 説明 |
| --- | --- |
| ダウンタイム開始日時 | ダウンタイムを開始する日時を指定します。<br />月末日にダウンタイムを有効にしたい場合、日付を`31日`に設定すると月末日が28日、29日、30日の月でもダウンタイムが有効になります。 |
| ダウンタイム期間 | 開始日時からダウンタイムを有効にする期間を指定します。 |
| 繰り返し設定 | ダウンタイムを一定の間隔で繰り返す場合は`あり`にします。 |

繰り返し設定を`あり`にすると、以下の項目が指定できます。

| 設定項目 | 説明 |
| --- | --- |
| 間隔 | ダウンタイムを繰り返す間隔を `時間ごと` `日ごと` `週ごと` `月ごと` `年ごと` で指定します。<br />`週ごと`を指定する場合は、任意の曜日にチェックをつけてください。 |
| ダウンタイム終了日時 | ダウンタイムを終了する日時を指定します。（無期限で繰り返す場合は`なし`を選択） |

### 絞込

| 設定項目 | 説明 |
| --- | --- |
| サービス / ロール | ダウンタイムの対象もしくは除外するサービス / ロールを指定します。 |
| 監視ルール | ダウンタイムの対象もしくは除外する監視ルールを指定します。 |

絞込条件はAND条件となります。

## 注意点

- ダウンタイム期間中は条件に該当する監視が完全に停止します。期間終了後にさかのぼってアラートの起票および通知は行いません。
  - 期間中に抑止されたアラートに関わる事象が期間終了後に解消した場合でも、アラートの起票が行われていないためアラートをクローズする通知は発生しません。
- ダウンタイムの開始が日曜日かつ期間が24時間を超える場合、24時間以降はダウンタイムが無視されますのでご注意ください。
  - たとえばダウンタイム開始日時を日曜日の`00:00`、ダウンタイム期間を`24時間30分`に設定した場合、月曜日の0:00〜0:30は監視が停止しません。繰り返し設定の場合も同様です。 
  - 日曜日に開始するダウンタイムについては期間が24時間を超えないように設定してください。