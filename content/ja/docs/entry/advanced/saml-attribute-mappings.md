---
Title: 属性マッピングを管理する
Date: 2024-08-02T14:00:00+09:00
URL: https://mackerel.io/ja/docs/entry/advanced/saml-attribute-mappings
EditURL: https://blog.hatena.ne.jp/mackerelio/mackerelio-docs-ja.hatenablog.mackerel.io/atom/entry/6802340630902356586
CustomPath: advanced/saml-attribute-mappings
---

**本機能の利用にはSAML認証を含むMackerel上位プランのご契約が必要です。**

SAML認証の基本的な設定については、[SAMLを設定する](https://mackerel.io/ja/docs/entry/advanced/saml-settings)をご覧ください。

属性マッピングを用いると、IDプロバイダー上の属性をMackerelの [ユーザー権限](https://mackerel.io/ja/docs/entry/spec/authority) とマッピングさせることができます。

- 属性マッピングによって割り当てられた権限は、オーガニゼーションのメンバー一覧画面で変更することはできません。
- オーガニゼーションのオーナーは、属性マッピングの影響を受けません。

[オーガニゼーショングループの設定](https://mackerel.io/ja/docs/entry/advanced/saml-settings) で「属性マッピングを有効にする」をONにすると、所属オーガニゼーションのメンバーと権限が、属性マッピングに従って直ちに更新されるようになります。

## 注意

- Mackerelでの属性マッピング設定の作成、およびIDプロバイダーでの属性設定を十分にしないまま「属性マッピングを有効にする」をONにしてしまうと、所属オーガニゼーションのメンバーへの権限割り当てがないとみなされ、オーガニゼーションのオーナー以外のメンバーがアクセスできなくなる場合があります。
- あらかじめ属性マッピング設定を作成し、IDプロバイダーで属性を設定してから「属性マッピングを有効にする」をONにすることをおすすめします。

## 属性マッピングの管理

オーガニゼーショングループの管理者は、サイドバーの「属性マッピング」から設定の確認・変更ができます。

![属性マッピングの一覧画面。属性マッピング名、属性名、属性値、メモが表形式で一覧表示されている。画面右上には「新規追加」ボタン、各行の右端には「編集」ボタンがある。](https://cdn-ak.f.st-hatena.com/images/fotolife/m/mackerelio/20240809/20240809174607_original.png)

## 属性マッピング設定の追加

属性マッピングの一覧画面の「新規追加」ボタンから追加します。

![属性マッピングの追加画面。上部にはマッピング名、属性名、属性値、メモの入力フォームがある。下部には所属オーガニゼーションと権限を選択する表がある。表の各行にはオーガニゼーション名、オーガニゼーションの管理名が表示されており、その右側に「管理者」「一般ユーザー」「閲覧者」「割当なし」を選択するラジオボタンが横並びになっている。表の下に「追加」「キャンセル」ボタンがある。](https://cdn-ak.f.st-hatena.com/images/fotolife/m/mackerelio/20240809/20240809174948_original.png)

| 設定項目               | 説明                                                                                                                                                       |
| ---------------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------- |
| マッピング名           | 属性マッピング設定の管理上の名称を入力します。                                                                                                             |
| 属性名                 | SAML属性名です。IDプロバイダーで設定した属性名を入力します。                                                                                               |
| 値                     | SAML属性値です。IDプロバイダーで設定した属性値を入力します。                                                                                               |
| メモ                   | 属性マッピング設定を説明する自由に設定可能な文章です。                                                                                                     |
| 所属オーガニゼーション | 属性名と属性値が一致したユーザーのオーガニゼーションにおけるユーザー権限を選択します。「割当なし」を選択した場合、そのオーガニゼーションには所属しません。 |

※ 複数の権限が割り当てられるような属性がIDプロバイダーで設定されている場合、最も強い権限が適用されます。

## 属性マッピング設定の編集・削除

属性マッピング設定の編集は、属性マッピング一覧画面内の各属性マッピング設定の右側にある「編集」ボタンから行えます。
編集時の設定項目は [追加時](#属性マッピング設定の追加) と同様です。

属性マッピング設定の削除は、「編集」ボタンを押して編集画面を開いた後、画面下部の「削除」ボタンから行えます。

![属性マッピングの編集画面。上部にはマッピング名、属性名、属性値、メモの入力フォームがある。下部には所属オーガニゼーションと権限を選択する表がある。表の各行にはオーガニゼーション名、オーガニゼーションの管理名が表示されており、その右側に「管理者」「一般ユーザー」「閲覧者」「割当なし」を選択するラジオボタンが横並びになっている。表の下に「追加」「キャンセル」「削除」ボタンがある。](https://cdn-ak.f.st-hatena.com/images/fotolife/m/mackerelio/20240815/20240815121659.png)
